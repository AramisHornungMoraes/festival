<html lang="en">
<head>
<title>Using ToBI - Festival Speech Synthesis System</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Festival Speech Synthesis System">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Intonation.html#Intonation" title="Intonation">
<link rel="prev" href="General-intonation.html#General-intonation" title="General intonation">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Using-ToBI"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="General-intonation.html#General-intonation">General intonation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Intonation.html#Intonation">Intonation</a>
<hr>
</div>

<h3 class="section">18.6 Using ToBI</h3>

<p>An example implementation of a ToBI to F0 target module is included in
<samp><span class="file">lib/tobi_rules.scm</span></samp> based on the rules described in <cite>jilka96</cite>. 
This uses the general intonation method discussed in the previous
section.  This is designed to be useful to people who are experimenting
with ToBI (<cite>silverman92</cite>), rather than general text to speech.

   <p>To use this method you need to load <samp><span class="file">lib/tobi_rules.scm</span></samp> and
call <code>setup_tobi_f0_method</code>.  The default is in a male's
pitch range, i.e. for <code>voice_rab_diphone</code>.  You can change
it for other pitch ranges by changing the folwoing variables.
<pre class="lisp">     (Parameter.set 'Default_Topline 110)
     (Parameter.set 'Default_Start_Baseline 87)
     (Parameter.set 'Default_End_Baseline 83)
     (Parameter.set 'Current_Topline (Parameter.get 'Default_Topline))
     (Parameter.set 'Valley_Dip 75)
</pre>
   <p>An example using this from STML is given in <samp><span class="file">examples/tobi.stml</span></samp>. 
But it can also be used from Scheme.  For example before
defining an utterance you should execute the following either
from teh command line on in some setup file
<pre class="example">     (voice_rab_diphone)
     (require 'tobi_rules)
     (setup_tobi_f0_method)
</pre>
   <p>In order to allow specification of accents, tones, and break levels
you must use an utterance type that allows such specification.  For
example
<pre class="lisp">     (Utterance
      Words
      (boy
       (saw ((accent H*)))
        the
        (girl ((accent H*)))
        in the
        (park ((accent H*) (tone H-)))
        with the
        (telescope ((accent H*) (tone H-H%)))))
     
     (Utterance Words
      (The
       (boy ((accent L*)))
       saw
       the
       (girl ((accent H*) (tone L-)))
       with
       the
       (telescope ((accent H*) (tone H-H%))))))
</pre>
   <p>You can display the the synthesized form of these utterance in
Xwaves.  Start an Xwaves and an Xlabeller and call the function
<code>display</code> on the synthesized utterance.

   </body></html>

